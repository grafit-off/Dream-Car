{"version":3,"sources":["main.js"],"names":["document","addEventListener","animItems","querySelectorAll","elementInViewport","element","offsetTop","offsetBottom","bounds","getBoundingClientRect","top","height","window","innerHeight","classList","add","hasAttribute","remove","length","forEach","el","isiPhone","navigator","userAgent","match","isiPad","isiPod","disableScroll","pagePosition","scrollY","querySelector","style","scrollBehavior","body","dataset","position","enableScroll","parseInt","scroll","left","removeAttribute","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","isMultipleClick","index","modalCurrentButton","e","modalName","path","curentModal","getElementById","modalOpen","setTimeout","focus","preventDefault","console","log","modalClose","closest","activeElement","modalActive","lockPaddingValue","innerWidth","offsetWidth","paddingRight","contains","bodyLock","target","doUnlock","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","themeSwitcher","initialState","themeName","localStorage","setItem","documentElement","className","undefined","getItem","textContent","Swiper","containerModifierClass","wrapperClass","slideClass","loop","pagination","bulletElement","a11y","prevSlideMessage","nextSlideMessage","paginationBulletMessage","breakpoints","320","slidesPerView","spaceBetween","480","navigation","clickable","992","nextEl","prevEl","linkNav","V","i","w","pageYOffset","hash","href","replace","t","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location","accordionTriggers","accordionTriggerDisable","trigger","disabled","accordionOpen","scrollHeight","getComputedStyle","setAttribute","accordionClose","setHeightOnTransitionEnd","accordionToggle","currentTarget","openBuilderBtn","builder","accpath","accordion","scrollToBuilder","mainImg","imgList","image","mainImgSrc","getAttribute","mainImgAlt","imageSrc","imageAlt","imageToggle","schildSpinner","btnPlus","btnMinus","orderList","heelInp","frontRowInp","backRowInp","trunkInp","orderPrice","orderSum","schildSum","generateOrderPrice","createClearEl","children","elem","createElement","append","generateListItem","item","text","price","checked","generateSchildItem","value","innerHTML","isNaN","spinnerIncr","spinnerDecr","key","inputTel","Inputmask","mask","placeholder","isValid","validate","selector","rules","JustValidate","messages","name","required","auto","tel","email","message","subject","submitHandler","form","ajax","snackbarBtn","snackbar","snackbarShow","type","delay","formBtn","data","async","heel","frontRow","backRow","trunk","schild","edging","canvas","shape","order","response","fetch","method","JSON","stringify","headers","Content-type","ok","status","modal","result","json","callForm","callFormBtn","callback","callInputName","callInputTel","Content-Type","reviewForm","reviewFormbtn","review","reviewInputName","reviewInputEmail","reviewInputSubject","reviewInputMessage"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t// // Animate In Scroll\r\n// class=\"animate-item\" data-animation='from-left' data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\n\r\nconst elementInViewport = (element, offsetTop, offsetBottom) => {\r\n\tlet bounds = element.getBoundingClientRect();\r\n\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\telement.classList.add(\"animated\");\r\n\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\telement.classList.remove(\"animated\");\r\n\t}\r\n};\r\n\r\nif (animItems.length != 0) {\r\n\tanimItems.forEach(el => {\r\n\t\telementInViewport(el, .5, .5);\r\n\t})\r\n\tdocument.addEventListener('scroll', () => {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t});\r\n\t});\r\n};\r\n// -- //\r\n\r\n/*\r\n// OLD\r\nconst scrollAnimate = () => {\r\n\t// let windowCenter = (window.innerHeight / 2) + window.scrollY;\r\n\tlet windowBottom = window.innerHeight + window.scrollY - 300;\r\n\tanimItems.forEach((el) => {\r\n\t\tlet scrollOffset = el.offsetTop;\r\n\t\tif (windowBottom >= scrollOffset) {\r\n\t\t\tel.classList.add('animated')\r\n\t\t} else {\r\n\t\t\tlet animationRepeat = el.hasAttribute('data-animation-once');\r\n\t\t\tif (!animationRepeat) {\r\n\t\t\t\tel.classList.remove('animated')\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nif (animItems.length != 0) {\r\n\tconsole.log('@ANIMATEONSCROLL: ON')\r\n\tscrollAnimate()\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tscrollAnimate()\r\n\r\n\t})\r\n} else {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице нету елементов анимации, НО функция scrollAnimate включена! Возможно вам стоит её отключить?\"')\r\n}\r\n*/;\r\n\t// // scrollLockIOS\r\n// Iphones\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n}\r\n\r\n// Слушатель на один элемент\r\nlet scrollLock_BtnListener = (item) => {\r\n\titem.addEventListener('click', (e) => {\r\n\t\titem.classList.toggle('scroll')\r\n\t\tif (item.classList.contains('scroll')) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tenableScroll();\r\n\t\t}\r\n\t});\r\n};\r\n\t// // MODAL\r\n\r\n// vars\r\nconst body = document.querySelector('body');\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet isMultipleClick = false;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\n\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.log(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Модальное окно не существует! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (isMultipleClick === false) {\r\n\t\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t\t}\r\n\t\t\t\tisMultipleClick = true;\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tisMultipleClick = false;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tenableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\r\n\t// -- //\r\n\r\n\t// Header Theme Switcher\r\n\tconst themeSwitcher = document.querySelector(\".theme-switcher\");\r\n\tconst initialState = (themeName) => {\r\n\t\tlocalStorage.setItem('site-theme', themeName);\r\n\t\tdocument.documentElement.className = themeName;\r\n\t}\r\n\r\n\tif (localStorage.getItem('site-theme') === undefined || localStorage.getItem('site-theme') === null) {\r\n\t\tinitialState('light-theme');\r\n\t} else {\r\n\t\tinitialState(localStorage.getItem('site-theme'));\r\n\t\tif (localStorage.getItem('site-theme') === 'dark-theme') {\r\n\t\t\tthemeSwitcher.textContent = 'Светлая тема';\r\n\t\t} else {\r\n\t\t\tthemeSwitcher.textContent = 'Тёмная тема';\r\n\t\t}\r\n\t}\r\n\r\n\tconst themeToggle = () => {\r\n\t\tif (localStorage.getItem('site-theme') === 'dark-theme') {\r\n\t\t\tinitialState('light-theme');\r\n\t\t\tthemeSwitcher.textContent = 'Тёмная тема';\r\n\t\t} else {\r\n\t\t\tinitialState('dark-theme');\r\n\t\t\tthemeSwitcher.textContent = 'Светлая тема';\r\n\t\t}\r\n\t}\r\n\r\n\tthemeSwitcher.addEventListener('click', themeToggle);\r\n\t// -- //\r\n\r\n\t// Hero Swiper\r\n\tconst swiper = new Swiper(\".swiper\", {\r\n\t\tcontainerModifierClass: \"swiper\",\r\n\t\twrapperClass: \"swiper__wrapper\",\r\n\t\tslideClass: \"swiper__slide\",\r\n\t\tloop: true,\r\n\t\tpagination: {\r\n\t\t\tbulletElement: 'button'\r\n\t\t},\r\n\t\ta11y: {\r\n\t\t\tprevSlideMessage: 'Предыдущий слайд',\r\n\t\t\tnextSlideMessage: 'Следующий слайд',\r\n\t\t\tpaginationBulletMessage: `Перейти к слайду {{index}}`\r\n\t\t},\r\n\t\tbreakpoints: {\r\n\t\t\t320: {\r\n\t\t\t\tslidesPerView: 2.05,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t\tpagination: false\r\n\t\t\t},\r\n\t\t\t480: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\tnavigation: false,\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: \".hero-buttons__pagination\",\r\n\t\t\t\t\tclickable: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t992: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: \".hero-buttons__pagination\",\r\n\t\t\t\t\tclickable: true\r\n\t\t\t\t},\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: \".hero-buttons__swiper--next\",\r\n\t\t\t\t\tprevEl: \".hero-buttons__swiper--prev\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t// -- //\r\n\r\n\t// Smooth Scroll\r\n\tif (isiPhone || isiPad || isiPod) {\r\n\t\tlet linkNav = document.querySelectorAll('[href^=\"#\"]'), //выбираем все ссылки к якорю на странице\r\n\t\t\tV = 0.2;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\r\n\t\tfor (let i = 0; i < linkNav.length; i++) {\r\n\t\t\tlinkNav[i].addEventListener('click', function (e) { //по клику на ссылку\r\n\t\t\t\te.preventDefault(); //отменяем стандартное поведение\r\n\t\t\t\tlet w = window.pageYOffset,  // производим прокрутка прокрутка\r\n\t\t\t\t\thash = this.href.replace(/[^#]*(.*)/, '$1');  // к id элемента, к которому нужно перейти\r\n\t\t\t\tt = document.querySelector(hash).getBoundingClientRect().top,  // отступ от окна браузера до id\r\n\t\t\t\t\tstart = null;\r\n\t\t\t\trequestAnimationFrame(step);  // подробнее про функцию анимации [developer.mozilla.org]\r\n\t\t\t\tfunction step(time) {\r\n\t\t\t\t\tif (start === null) start = time;\r\n\t\t\t\t\tlet progress = time - start,\r\n\t\t\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\r\n\t\t\t\t\twindow.scrollTo(0, r);\r\n\t\t\t\t\tif (r != w + t) {\r\n\t\t\t\t\t\trequestAnimationFrame(step)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocation.hash = hash  // URL с хэшем\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, false);\r\n\t\t}\r\n\t}\r\n\r\n\t// -- //\r\n\r\n\t// Accordion\r\n\tconst accordionTriggers = document.querySelectorAll(\".accordion__trigger\");\r\n\r\n\tconst accordionTriggerDisable = (trigger) => {\r\n\t\ttrigger.disabled = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\ttrigger.disabled = false;\r\n\t\t}, 500);\r\n\t}\r\n\r\n\tconst accordionOpen = (trigger, body) => {\r\n\t\tbody.style.height = body.scrollHeight + 'px';\r\n\t\tif (body.style.height === \"0px\" || window.getComputedStyle(body).height === \"0px\") {\r\n\t\t\ttrigger.classList.add(\"accordion__trigger--active\");\r\n\t\t\ttrigger.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\tbody.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t\tbody.classList.remove('accordion__body--hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tconst accordionClose = (trigger, body) => {\r\n\t\tif (body.style.height !== \"0px\" && window.getComputedStyle(body).height !== \"0px\") {\r\n\t\t\ttrigger.classList.remove(\"accordion__trigger--active\");\r\n\t\t\ttrigger.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\tbody.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t\tbody.style.height = body.scrollHeight + 'px';\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbody.style.height = \"0\";\r\n\t\t\t}, 0);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbody.classList.add('accordion__body--hidden');\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\r\n\tconst setHeightOnTransitionEnd = (body) => {\r\n\t\tbody.addEventListener(\"transitionend\", () => {\r\n\t\t\tif (body.style.height !== \"0px\") {\r\n\t\t\t\tbody.style.height = \"auto\";\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst accordionToggle = (target) => {\r\n\t\tconst trigger = target;\r\n\t\tconst body = target.closest('.accordion__item').querySelector('.accordion__body');\r\n\t\tsetHeightOnTransitionEnd(body);\r\n\t\taccordionClose(trigger, body);\r\n\t\taccordionOpen(trigger, body);\r\n\t\taccordionTriggerDisable(trigger);\r\n\t}\r\n\r\n\taccordionTriggers.forEach(trigger => {\r\n\t\ttrigger.addEventListener('click', (e) => {\r\n\t\t\tlet self = e.currentTarget;\r\n\t\t\taccordionToggle(self);\r\n\t\t})\r\n\t})\r\n\t// -- //\r\n\r\n\t// Open and scroll to builder \r\n\tconst openBuilderBtn = [document.querySelector('.hero-buttons__order'), document.querySelector('.hero__btn')];\r\n\tconst builder = document.querySelector('.accordion__constructor-form');\r\n\r\n\tconst scrollToBuilder = () => {\r\n\t\tV = 0.7;\r\n\t\tlet w = window.pageYOffset;\r\n\t\tt = builder.getBoundingClientRect().top,\r\n\t\t\tstart = null;\r\n\t\trequestAnimationFrame(step);\r\n\t\tfunction step(time) {\r\n\t\t\tif (start === null) start = time;\r\n\t\t\tlet progress = time - start,\r\n\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\r\n\t\t\twindow.scrollTo(0, r);\r\n\t\t\tif (r != w + t) {\r\n\t\t\t\trequestAnimationFrame(step)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\topenBuilderBtn.forEach((el) => {\r\n\t\tel.addEventListener('click', () => {\r\n\t\t\tlet path = el.dataset.accpath;\r\n\t\t\tlet accordion = document.querySelector('.accordion').querySelector(`[data-accpath=\"${path}\"]`);\r\n\t\t\tlet trigger = accordion.querySelector('.accordion__trigger');\r\n\t\t\tlet body = accordion.querySelector('.accordion__body');\r\n\t\t\taccordionTriggerDisable(trigger);\r\n\t\t\taccordionTriggerDisable(el);\r\n\t\t\taccordionOpen(trigger, body);\r\n\t\t\tsetHeightOnTransitionEnd(body);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tscrollToBuilder();\r\n\t\t\t\tdocument.querySelector('[name=\"Форма ячейки\"]').focus();\r\n\t\t\t}, 500);\r\n\t\t})\r\n\t});\r\n\t// -- //\r\n\r\n\t// Close Accordion\r\n\tconst accCloseBtns = document.querySelectorAll('.accordion-close');\r\n\taccCloseBtns.forEach((el) => {\r\n\t\tel.addEventListener('click', () => {\r\n\t\t\tconst accordion = el.closest('.accordion__item');\r\n\t\t\tconst trigger = accordion.querySelector('.accordion__trigger');\r\n\t\t\tconst body = accordion.querySelector('.accordion__body');\r\n\t\t\taccordionTriggerDisable(el);\r\n\t\t\taccordionTriggerDisable(trigger);\r\n\t\t\taccordionClose(trigger, body);\r\n\t\t\ttrigger.focus();\r\n\t\t})\r\n\t});\r\n\t// -- //\r\n\r\n\t// Image Preview\r\n\t/* \r\n\t\tИдея\r\n\t\tПо нажатию на картинку в списке, передавать src в выводимое изображение,\r\n\t\tа src выводимого изображения передавть картинке по которой произошел клик.\r\n\t\t\r\n\t\tПлан\r\n\t\t1. Создать переменные выводимого изображения и блока списка картинок/кнопок.\r\n\t\t2. Добавить слушатель на блок и способом делегирования отлавливать картинку\r\n\t\t\tпо которой произошел клик.\r\n\t\t3. Получить в новые переменные src и alt картинки по которой произошел клик\r\n\t\t\tи src, alt выводимого изображение.\r\n\t\t4. Заменить src, alt выводимого изображения на src,alt картинки по которой произошел клик\r\n\t\t\tиз переменной и заменить src,alt картинки по которой произошел клик\r\n\t\t\tна src,alt выводимого изображения.\r\n\t\t?Почему бы просто не забрать сам елемент, в чем смысл игры с alt и src?\r\n\t*/\r\n\tconst mainImg = document.querySelector('.image-preview__current');\r\n\tconst imgList = document.querySelector('.image-preview__list');\r\n\r\n\tconst imageToggle = (image) => {\r\n\t\tlet mainImgSrc = mainImg.getAttribute('src');\r\n\t\tlet mainImgAlt = mainImg.getAttribute('alt');\r\n\r\n\t\tlet imageSrc = image.getAttribute('src');\r\n\t\tlet imageAlt = image.getAttribute('alt');\r\n\r\n\t\tmainImg.setAttribute('src', `${imageSrc}`);\r\n\t\tmainImg.setAttribute('alt', `${imageAlt}`);\r\n\r\n\t\timage.setAttribute('src', `${mainImgSrc}`);\r\n\t\timage.setAttribute('alt', `${mainImgAlt}`);\r\n\t}\r\n\r\n\timgList.addEventListener('click', (e) => {\r\n\t\tlet image = e.target.querySelector('.preview-item__image');\r\n\t\timageToggle(image);\r\n\t})\r\n\t// -- //\r\n\r\n\t// Number Spinner\r\n\tconst schildSpinner = document.querySelector('.schild__input');\r\n\tconst btnPlus = document.querySelector('.schild__plus');\r\n\tconst btnMinus = document.querySelector('.schild__minus');\r\n\r\n\tconst spinnerIncr = () => {\r\n\t\tlet value = parseInt(schildSpinner.value, 10);\r\n\t\tvalue = !isNaN(value) ? ++value : 0;\r\n\t\tif (value > 100) {\r\n\t\t\tvalue = 0;\r\n\t\t}\r\n\t\tschildSpinner.value = value;\r\n\t}\r\n\tconst spinnerDecr = () => {\r\n\t\tlet value = parseInt(schildSpinner.value, 10);\r\n\t\tvalue = !isNaN(value) ? --value : 0;\r\n\t\tif (value < 0) {\r\n\t\t\tvalue = 100;\r\n\t\t}\r\n\t\tschildSpinner.value = value;\r\n\t}\r\n\r\n\t// -- //\r\n\r\n\t// Generate Order List and Price\r\n\tconst orderList = document.querySelector('.order-info__list');\r\n\tconst heelInp = document.querySelector('input[value=\"Металлический подпятник\"]');\r\n\tconst frontRowInp = document.querySelector('input[value=\"Передний ряд\"]');\r\n\tconst backRowInp = document.querySelector('input[value=\"Задний ряд\"]');\r\n\tconst trunkInp = document.querySelector('input[value=\"Багажник\"]');\r\n\tconst orderPrice = document.querySelector('.price-block__price');\r\n\tlet orderSum = 0;\r\n\tlet schildSum = 0;\r\n\r\n\tconst generateOrderPrice = () => {\r\n\t\torderPrice.textContent = orderSum + schildSum;\r\n\t}\r\n\r\n\tconst createClearEl = () => {\r\n\t\tif (orderList.children.length === 0) {\r\n\t\t\tconst elem = document.createElement('li');\r\n\t\t\telem.className = `order-info__item main-text order-clear`;\r\n\t\t\telem.textContent = ` Здесь пусто`;\r\n\t\t\torderList.append(elem);\r\n\t\t}\r\n\t}\r\n\r\n\tconst generateListItem = (item, className, text, price) => {\r\n\t\tif (item.checked) {\r\n\t\t\torderSum += price;\r\n\r\n\t\t\tconst elem = document.createElement('li');\r\n\t\t\telem.className = `order-info__item main-text ${className}`;\r\n\t\t\telem.textContent = ` ${text}`;\r\n\t\t\torderList.append(elem);\r\n\t\t\tif (document.querySelector('.order-clear')) {\r\n\t\t\t\tdocument.querySelector('.order-clear').remove();\r\n\t\t\t}\r\n\t\t} else if (document.querySelector(`.${className}`) !== null) {\r\n\t\t\torderSum -= price;\r\n\t\t\tdocument.querySelector(`.${className}`).remove();\r\n\t\t\tcreateClearEl();\r\n\t\t}\r\n\t\tgenerateOrderPrice();\r\n\t}\r\n\r\n\t// Schild \r\n\tconst generateSchildItem = () => {\r\n\t\tschildSum = parseInt(schildSpinner.value, 10) * 50;\r\n\t\tif (parseInt(schildSpinner.value, 10) !== 0) {\r\n\t\t\tif (document.querySelector('.order-schild') === null) {\r\n\t\t\t\tconst elem = document.createElement('li');\r\n\t\t\t\telem.className = 'order-info__item main-text order-schild';\r\n\t\t\t\telem.innerHTML = ` Фирменные шильды ${schildSpinner.value} шт.`;\r\n\t\t\t\torderList.append(elem);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.querySelector('.order-schild').textContent = ` Фирменные шильды ${schildSpinner.value} шт.`;\r\n\t\t\t}\r\n\t\t\tif (document.querySelector('.order-clear')) {\r\n\t\t\t\tdocument.querySelector('.order-clear').remove();\r\n\t\t\t}\r\n\t\t} else if (document.querySelector('.order-schild') !== null) {\r\n\t\t\tdocument.querySelector('.order-schild').remove();\r\n\t\t\tcreateClearEl();\r\n\t\t}\r\n\t\tgenerateOrderPrice();\r\n\t}\r\n\tschildSpinner.addEventListener('blur', () => {\r\n\t\tif (schildSpinner.value < 101 && schildSpinner.value >= 0) {\r\n\t\t\tgenerateSchildItem();\r\n\t\t} else {\r\n\t\t\tschildSpinner.value = 0;\r\n\t\t\tgenerateSchildItem();\r\n\t\t}\r\n\t})\r\n\tschildSpinner.addEventListener('keydown', () => {\r\n\t\tif (isNaN(parseInt(schildSpinner.value, 10))) {\r\n\t\t\tschildSpinner.value = 0;\r\n\t\t}\r\n\t})\r\n\tbtnPlus.addEventListener('click', () => {\r\n\t\tspinnerIncr();\r\n\t\tgenerateSchildItem();\r\n\t})\r\n\tbtnMinus.addEventListener('click', () => {\r\n\t\tspinnerDecr();\r\n\t\tgenerateSchildItem();\r\n\t})\r\n\tschildSpinner.addEventListener('keydown', (e) => {\r\n\t\tif (e.key == 'Enter') {\r\n\t\t\tgenerateSchildItem();\r\n\t\t}\r\n\t})\r\n\r\n\t// Heel\r\n\tgenerateListItem(heelInp, 'order-heel', 'Подпятник', 500);\r\n\theelInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(heelInp, 'order-heel', 'Подпятник', 500);\r\n\t})\r\n\r\n\t// Front Row\r\n\tgenerateListItem(frontRowInp, 'order-front-row', 'Комплект ковриков для переднего ряда', 1700);\r\n\tfrontRowInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(frontRowInp, 'order-front-row', 'Комплект ковриков для переднего ряда', 1700);\r\n\t})\r\n\r\n\t// Back Row\r\n\tgenerateListItem(backRowInp, 'order-back-row', 'Комплект ковриков для заднего ряда', 1600);\r\n\tbackRowInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(backRowInp, 'order-back-row', 'Комплект ковриков для заднего ряда', 1600);\r\n\t})\r\n\r\n\t// Trunk\r\n\ttrunkInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(trunkInp, 'order-trunk', 'Коврик для багажника', 1000);\r\n\t})\r\n\t// -- //\r\n\r\n\t// Input Mask\r\n\tconst inputTel = document.querySelectorAll('input[type=\"tel\"]');\r\n\tconst inMask = new Inputmask('+7 (999) 999-99-99');\r\n\tinMask.mask(inputTel);\r\n\r\n\tconst inMaskSchild = new Inputmask('999', { placeholder: '' });\r\n\tinMaskSchild.mask(schildSpinner);\r\n\r\n\t// -- //\r\n\r\n\t// Validate\r\n\tlet isValid = false;\r\n\tconst validate = (selector, rules) => {\r\n\t\tnew window.JustValidate(selector, {\r\n\t\t\trules: rules,\r\n\t\t\tmessages: {\r\n\t\t\t\tname: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!'\r\n\t\t\t\t},\r\n\t\t\t\tauto: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!'\r\n\t\t\t\t},\r\n\t\t\t\ttel: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!'\r\n\t\t\t\t},\r\n\t\t\t\temail: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!',\r\n\t\t\t\t\temail: 'Пожалуйста! Введите действительный эмейл!'\r\n\t\t\t\t},\r\n\t\t\t\tmessage: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!'\r\n\t\t\t\t},\r\n\t\t\t\tsubject: {\r\n\t\t\t\t\trequired: 'Это поле обязательно!'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmitHandler: (form, value, ajax) => {\r\n\t\t\t\tisValid = true;\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\tvalidate('.form', {\r\n\t\tname: { required: true }, auto: { required: true }, tel: { required: true }\r\n\t})\r\n\tvalidate('.call-form', {\r\n\t\tname: { required: true }, tel: { required: true }\r\n\t})\r\n\tvalidate('.reviews-form', {\r\n\t\tname: { required: true }, subject: { required: true }, message: { required: true }, email: { required: true, email: true }\r\n\t})\r\n\r\n\r\n\t// -- //\r\n\r\n\r\n\t// Snackbar\r\n\tconst snackbarBtn = document.querySelector('.snackbar-btn');\r\n\tconst snackbar = document.querySelector(\".snackbar\");\r\n\tfunction snackbarShow(text = snackbar.textContent, type, time = 3100, delay = 0) {\r\n\t\tsnackbar.textContent = text;\r\n\t\tif (snackbarBtn) {\r\n\t\t\tsnackbarBtn.disabled = true;\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsnackbar.removeAttribute('hidden')\r\n\t\t\tif (type == 0) {\r\n\t\t\t\tsnackbar.classList.add('show-notification');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsnackbar.className = snackbar.className.replace(\"show-notification\", \"\");\r\n\t\t\t\t\tsnackbar.setAttribute('hidden', '')\r\n\t\t\t\t}, time);\r\n\t\t\t} else if (type == 1) {\r\n\t\t\t\tsnackbar.classList.add('show-attention');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsnackbar.className = snackbar.className.replace(\"show-attention\", \"\");\r\n\t\t\t\t\tsnackbar.setAttribute('hidden', '')\r\n\t\t\t\t}, time);\r\n\t\t\t}\r\n\t\t\tif (snackbarBtn) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsnackbarBtn.disabled = false;\r\n\t\t\t\t}, time)\r\n\t\t\t}\r\n\t\t}, delay)\r\n\t}\r\n\t// -- //\r\n\r\n\t// Form Send\r\n\tconst form = document.querySelector('.form');\r\n\tconst formBtn = document.querySelector('.form__submit');\r\n\tconst data = {}\r\n\r\n\tform.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tformBtn.disabled = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tformBtn.disabled = false;\r\n\t\t}, 1000);\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst name = document.querySelector('input[name=\"Имя\"]').value;\r\n\t\t\tconst auto = document.querySelector('input[name=\"Модель автомобиля\"]').value;\r\n\t\t\tconst tel = inputTel.value;\r\n\t\t\tconst heel = heelInp.checked;\r\n\t\t\tconst frontRow = frontRowInp.checked;\r\n\t\t\tconst backRow = backRowInp.checked;\r\n\t\t\tconst trunk = trunkInp.checked;\r\n\t\t\tconst schild = schildSpinner.value;\r\n\t\t\tconst edging = document.querySelectorAll('input[name=\"Цвет окантовки\"]');\r\n\t\t\tconst canvas = document.querySelectorAll('input[name=\"Цвет полотна\"]');\r\n\t\t\tconst shape = document.querySelectorAll('input[name=\"Форма ячейки\"]');\r\n\r\n\t\t\tdata.order = {};\r\n\t\t\tdata.order.name = name;\r\n\t\t\tdata.order.tel = tel;\r\n\t\t\tdata.order.auto = auto;\r\n\t\t\tdata.order.heel = heel;\r\n\t\t\tdata.order.frontRow = frontRow;\r\n\t\t\tdata.order.backRow = backRow;\r\n\t\t\tdata.order.trunk = trunk;\r\n\t\t\tdata.order.schild = schild;\r\n\r\n\t\t\tshape.forEach((el) => {\r\n\t\t\t\tif (el.checked) {\r\n\t\t\t\t\tdata.order.shape = el.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcanvas.forEach((el) => {\r\n\t\t\t\tif (el.checked) {\r\n\t\t\t\t\tdata.order.canvas = el.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tedging.forEach((el) => {\r\n\t\t\t\tif (el.checked) {\r\n\t\t\t\t\tdata.order.edging = el.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet response = await fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-type': 'application/json; charset=utf-8'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tconsole.log('Sending data...');\r\n\r\n\r\n\t\t\tif (await response.ok) {\r\n\t\t\t\tconsole.log(`Response status: ${await response.status}`);\r\n\t\t\t\tlet modal = form.closest('.modal');\r\n\t\t\t\tlet result = await response.json();\r\n\t\t\t\tconsole.log('Request data...');\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tmodalClose(modal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsnackbarShow(undefined, 0);\r\n\t\t\t\t}, 800);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tconst callForm = document.querySelector('.call-form');\r\n\tconst callFormBtn = document.querySelector('.call-form__submit');\r\n\r\n\tcallForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tcallFormBtn.disabled = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tcallFormBtn.disabled = false;\r\n\t\t}, 1000);\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconsole.log('Sending data...');\r\n\r\n\t\t\tdata.callback = {};\r\n\r\n\t\t\tconst callInputName = callForm.querySelector('input[name=\"name\"]').value;\r\n\t\t\tconst callInputTel = callForm.querySelector('input[name=\"tel\"]').value;\r\n\r\n\t\t\tdata.callback.name = callInputName;\r\n\t\t\tdata.callback.tel = callInputTel;\r\n\t\t\tlet response = await fetch('https://jsonplaceholder.typicode.com/posts', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json; charset=utf-8'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (await response.ok) {\r\n\t\t\t\tconsole.log('Request data...');\r\n\t\t\t\tconsole.log(`Status: ${await response.status}`);\r\n\t\t\t\tlet data = await response.json()\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tsnackbarShow('Спасибо! Мы скоро Вам перезвоним!', '0');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst reviewForm = document.querySelector('.reviews-form');\r\n\tconst reviewFormbtn = document.querySelector('.reviews-form__submit');\r\n\r\n\treviewForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\treviewFormbtn.disabled = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\treviewFormbtn.disabled = false;\r\n\t\t}, 1000);\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconsole.log('Sending data...');\r\n\r\n\t\t\tdata.review = {\r\n\t\t\t}\r\n\r\n\t\t\tconst reviewInputName = reviewForm.querySelector('input[name=\"name\"]').value;\r\n\t\t\tconst reviewInputEmail = reviewForm.querySelector('input[name=\"email\"]').value;\r\n\t\t\tconst reviewInputSubject = reviewForm.querySelector('input[name=\"subject\"]').value;\r\n\t\t\tconst reviewInputMessage = reviewForm.querySelector('textarea[name=\"message\"]').value;\r\n\r\n\t\t\tdata.review.name = reviewInputName;\r\n\t\t\tdata.review.email = reviewInputEmail;\r\n\t\t\tdata.review.subject = reviewInputSubject;\r\n\t\t\tdata.review.message = reviewInputMessage;\r\n\r\n\t\t\tlet response = await fetch('https://jsonplaceholder.typicode.com/posts', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json; charset=utf-8'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (await response.ok) {\r\n\t\t\t\tconsole.log('Request data...');\r\n\t\t\t\tconsole.log(`Status: ${await response.status}`);\r\n\t\t\t\tlet data = await response.json()\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tsnackbarShow('Спасибо за отзыв!', '0');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"]}