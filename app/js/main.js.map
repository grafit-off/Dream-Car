{"version":3,"sources":["main.js"],"names":["document","addEventListener","animItems","querySelectorAll","elementInViewport","element","offsetTop","offsetBottom","bounds","getBoundingClientRect","top","height","window","innerHeight","classList","add","hasAttribute","remove","length","forEach","el","isiPhone","navigator","userAgent","match","isiPad","isiPod","disableScroll","pagePosition","scrollY","querySelector","style","scrollBehavior","body","dataset","position","enableScroll","parseInt","scroll","left","removeAttribute","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","index","modalCurrentButton","e","modalName","path","curentModal","getElementById","modalOpen","setTimeout","focus","preventDefault","console","log","modalClose","closest","activeElement","modalActive","lockPaddingValue","innerWidth","offsetWidth","paddingRight","contains","bodyLock","target","doUnlock","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","themeSwitcher","initialState","themeName","localStorage","setItem","documentElement","className","undefined","getItem","textContent","Swiper","containerModifierClass","wrapperClass","slideClass","loop","breakpoints","320","slidesPerView","spaceBetween","pagination","480","navigation","clickable","992","nextEl","prevEl","accordionTrigger","accordionBody","bodyElements","disabled","elBody","toggle","scrollHeight","getComputedStyle","setAttribute","mainImg","image","mainImgSrc","getAttribute","mainImgAlt","imageSrc","imageAlt","schildSpinner","btnPlus","btnMinus","orderList","heelInp","frontRowInp","backRowInp","trunkInp","orderPrice","orderSum","schildSum","generateOrderPrice","createClearEl","children","elem","createElement","append","generateListItem","item","text","price","checked","generateSchildItem","value","innerHTML","isNaN","spinnerIncr","spinnerDecr"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t// // Animate In Scroll\r\n// class=\"animate-item\" data-animation='from-left' data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\n\r\nconst elementInViewport = (element, offsetTop, offsetBottom) => {\r\n\tlet bounds = element.getBoundingClientRect();\r\n\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\telement.classList.add(\"animated\");\r\n\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\telement.classList.remove(\"animated\");\r\n\t}\r\n};\r\n\r\nif (animItems.length != 0) {\r\n\tanimItems.forEach(el => {\r\n\t\telementInViewport(el, .5, .5);\r\n\t})\r\n\tdocument.addEventListener('scroll', () => {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t});\r\n\t});\r\n};\r\n// -- //\r\n\r\n/*\r\n// OLD\r\nconst scrollAnimate = () => {\r\n\t// let windowCenter = (window.innerHeight / 2) + window.scrollY;\r\n\tlet windowBottom = window.innerHeight + window.scrollY - 300;\r\n\tanimItems.forEach((el) => {\r\n\t\tlet scrollOffset = el.offsetTop;\r\n\t\tif (windowBottom >= scrollOffset) {\r\n\t\t\tel.classList.add('animated')\r\n\t\t} else {\r\n\t\t\tlet animationRepeat = el.hasAttribute('data-animation-once');\r\n\t\t\tif (!animationRepeat) {\r\n\t\t\t\tel.classList.remove('animated')\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nif (animItems.length != 0) {\r\n\tconsole.log('@ANIMATEONSCROLL: ON')\r\n\tscrollAnimate()\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tscrollAnimate()\r\n\r\n\t})\r\n} else {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице нету елементов анимации, НО функция scrollAnimate включена! Возможно вам стоит её отключить?\"')\r\n}\r\n*/;\r\n\t// // scrollLockIOS\r\n// Iphones\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n}\r\n\r\n// Слушатель на один элемент\r\nlet scrollLock_BtnListener = (item) => {\r\n\titem.addEventListener('click', (e) => {\r\n\t\titem.classList.toggle('scroll')\r\n\t\tif (item.classList.contains('scroll')) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tenableScroll();\r\n\t\t}\r\n\t});\r\n};\r\n\t// // MODAL\r\n\r\n// vars\r\nconst body = document.querySelector('body');\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.log(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Модальное окно не существует! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (typeof (disableScroll) === \"function\") {\r\n\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.add('lock');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (typeof (enableScroll) === \"function\") {\r\n\t\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\r\n\t// -- //\r\n\r\n\t// Header Theme Switcher\r\n\tconst themeSwitcher = document.querySelector(\".theme-switcher\");\r\n\tconst initialState = (themeName) => {\r\n\t\tlocalStorage.setItem('site-theme', themeName);\r\n\t\tdocument.documentElement.className = themeName;\r\n\t}\r\n\r\n\tif (localStorage.getItem('site-theme') === undefined || localStorage.getItem('site-theme') === null) {\r\n\t\tinitialState('light-theme');\r\n\t} else {\r\n\t\tinitialState(localStorage.getItem('site-theme'));\r\n\t\tif (localStorage.getItem('site-theme') === 'dark-theme') {\r\n\t\t\tthemeSwitcher.textContent = 'Светлая тема';\r\n\t\t} else {\r\n\t\t\tthemeSwitcher.textContent = 'Тёмная тема';\r\n\t\t}\r\n\t}\r\n\r\n\tconst themeToggle = () => {\r\n\t\tif (localStorage.getItem('site-theme') === 'dark-theme') {\r\n\t\t\tinitialState('light-theme');\r\n\t\t\tthemeSwitcher.textContent = 'Тёмная тема';\r\n\t\t} else {\r\n\t\t\tinitialState('dark-theme');\r\n\t\t\tthemeSwitcher.textContent = 'Светлая тема';\r\n\t\t}\r\n\t}\r\n\r\n\tthemeSwitcher.addEventListener('click', themeToggle);\r\n\r\n\t// Hero Swiper\r\n\tconst swiper = new Swiper(\".swiper\", {\r\n\t\tcontainerModifierClass: \"swiper\",\r\n\t\twrapperClass: \"swiper__wrapper\",\r\n\t\tslideClass: \"swiper__slide\",\r\n\t\tloop: true,\r\n\t\tbreakpoints: {\r\n\t\t\t320: {\r\n\t\t\t\tslidesPerView: 2.05,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t\tpagination: false\r\n\t\t\t},\r\n\t\t\t480: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\tnavigation: false,\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: \".hero-buttons__pagination\",\r\n\t\t\t\t\tclickable: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t992: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: \".hero-buttons__pagination\",\r\n\t\t\t\t\tclickable: true\r\n\t\t\t\t},\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: \".hero-buttons__swiper--next\",\r\n\t\t\t\t\tprevEl: \".hero-buttons__swiper--prev\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t// Accodions\r\n\tconst accordionTrigger = document.querySelectorAll(\".accordion__trigger\"),\r\n\t\taccordionBody = document.querySelectorAll(\".accordion__body\");\r\n\r\n\tconst accordionsToggle = (triggers, bodyElements) => {\r\n\t\ttriggers.forEach((el) => {\r\n\t\t\tel.addEventListener(\"click\", () => {\r\n\t\t\t\tel.disabled = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tel.disabled = false;\r\n\t\t\t\t}, 500);\r\n\t\t\t\tconst elBody = el.closest(\".accordion__item\").querySelector(\".accordion__body\");\r\n\t\t\t\tel.classList.toggle('accordion__trigger--active');\r\n\t\t\t\telBody.style.height = `${elBody.scrollHeight}px`;\r\n\t\t\t\tif (elBody.style.height === \"0px\" || window.getComputedStyle(elBody).height === \"0px\") {\r\n\t\t\t\t\tel.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\t\t\telBody.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\telBody.style.height = \"0\";\r\n\t\t\t\t\tel.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t\t\telBody.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t\t\t}\r\n\t\t\t\tbodyElements.forEach((el) => {\r\n\t\t\t\t\tel.addEventListener(\"transitionend\", () => {\r\n\t\t\t\t\t\tif (el.style.height !== \"0px\") {\r\n\t\t\t\t\t\t\tel.style.height = \"auto\";\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t};\r\n\taccordionsToggle(accordionTrigger, accordionBody);\r\n\t// -- //\r\n\r\n\t// Image Preview\r\n\t/* \r\n\t\tИдея\r\n\t\tПо нажатию на картинку в списке, передавать src в выводимое изображение,\r\n\t\tа src выводимого изображения передавть картинке по которой произошел клик.\r\n\r\n\t\tПлан\r\n\t\t1. Создать переменные выводимого изображения и блока списка картинок/кнопок.\r\n\t\t2. Добавить слушатель на блок и способом делегирования отлавливать картинку\r\n\t\t\tпо которой произошел клик.\r\n\t\t3. Получить в новые переменные src и alt картинки по которой произошел клик\r\n\t\t\tи src, alt выводимого изображение.\r\n\t\t4. Заменить src, alt выводимого изображения на src,alt картинки по которой произошел клик\r\n\t\t\tиз переменной и заменить src,alt картинки по которой произошел клик\r\n\t\t\tна src,alt выводимого изображения.\r\n\t\t?Почему бы просто не забрать сам елемент, в чем смысл игры с alt и src?\r\n\t*/\r\n\tconst mainImg = document.querySelector('.image-preview__current');\r\n\tconst imgList = document.querySelector('.image-preview__list');\r\n\r\n\timgList.addEventListener('click', (e) => {\r\n\t\tlet image = e.target;\r\n\t\tif (image.classList.contains('preview-item__image')) {\r\n\t\t\tlet mainImgSrc = mainImg.getAttribute('src');\r\n\t\t\tlet mainImgAlt = mainImg.getAttribute('alt');\r\n\r\n\t\t\tlet imageSrc = image.getAttribute('src');\r\n\t\t\tlet imageAlt = image.getAttribute('alt');\r\n\r\n\t\t\tmainImg.setAttribute('src', `${imageSrc}`);\r\n\t\t\tmainImg.setAttribute('alt', `${imageAlt}`);\r\n\r\n\t\t\timage.setAttribute('src', `${mainImgSrc}`);\r\n\t\t\timage.setAttribute('alt', `${mainImgAlt}`);\r\n\t\t}\r\n\t})\r\n\r\n\t// Number Spinner\r\n\tconst schildSpinner = document.querySelector('.schild__input');\r\n\tconst btnPlus = document.querySelector('.schild__plus');\r\n\tconst btnMinus = document.querySelector('.schild__minus');\r\n\r\n\tconst spinnerIncr = () => {\r\n\t\tlet value = parseInt(schildSpinner.value, 10);\r\n\t\tvalue = !isNaN(value) ? ++value : 0;\r\n\t\tif (value > 100) {\r\n\t\t\tvalue = 0;\r\n\t\t}\r\n\t\tschildSpinner.value = value;\r\n\t}\r\n\tconst spinnerDecr = () => {\r\n\t\tlet value = parseInt(schildSpinner.value, 10);\r\n\t\tvalue = !isNaN(value) ? --value : 0;\r\n\t\tif (value < 0) {\r\n\t\t\tvalue = 100;\r\n\t\t}\r\n\t\tschildSpinner.value = value;\r\n\t}\r\n\r\n\t// -- //\r\n\r\n\t// Generate Order List and Price\r\n\tconst orderList = document.querySelector('.order-info__list');\r\n\tconst heelInp = document.querySelector('input[value=\"Металлический подпятник\"]');\r\n\tconst frontRowInp = document.querySelector('input[value=\"Передний ряд\"]');\r\n\tconst backRowInp = document.querySelector('input[value=\"Задний ряд\"]');\r\n\tconst trunkInp = document.querySelector('input[value=\"Багажник\"]');\r\n\tconst orderPrice = document.querySelector('.price-block__price');\r\n\tlet orderSum = 0;\r\n\tlet schildSum = 0;\r\n\r\n\tconst generateOrderPrice = () => {\r\n\t\torderPrice.textContent = orderSum + schildSum;\r\n\t}\r\n\r\n\tconst createClearEl = () => {\r\n\t\tif (orderList.children.length === 0) {\r\n\t\t\tconst elem = document.createElement('li');\r\n\t\t\telem.className = `order-info__item main-text order-clear`;\r\n\t\t\telem.textContent = ` Здесь пусто`;\r\n\t\t\torderList.append(elem);\r\n\t\t}\r\n\t}\r\n\r\n\tconst generateListItem = (item, className, text, price) => {\r\n\t\tif (item.checked) {\r\n\t\t\torderSum += price;\r\n\r\n\t\t\tconst elem = document.createElement('li');\r\n\t\t\telem.className = `order-info__item main-text ${className}`;\r\n\t\t\telem.textContent = ` ${text}`;\r\n\t\t\torderList.append(elem);\r\n\t\t\tif (document.querySelector('.order-clear')) {\r\n\t\t\t\tdocument.querySelector('.order-clear').remove();\r\n\t\t\t}\r\n\t\t} else if (document.querySelector(`.${className}`) !== null) {\r\n\t\t\torderSum -= price;\r\n\t\t\tdocument.querySelector(`.${className}`).remove();\r\n\t\t\tcreateClearEl();\r\n\t\t}\r\n\t\tgenerateOrderPrice();\r\n\t}\r\n\r\n\t// Shild \r\n\tconst generateSchildItem = () => {\r\n\t\tschildSum = parseInt(schildSpinner.value, 10) * 50;\r\n\t\tif (parseInt(schildSpinner.value, 10) !== 0) {\r\n\t\t\tif (document.querySelector('.order-schild') === null) {\r\n\t\t\t\tconst elem = document.createElement('li');\r\n\t\t\t\telem.className = 'order-info__item main-text order-schild';\r\n\t\t\t\telem.innerHTML = ` Фирменные шильды ${schildSpinner.value} шт.`;\r\n\t\t\t\torderList.append(elem);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.querySelector('.order-schild').textContent = ` Фирменные шильды ${schildSpinner.value} шт.`;\r\n\t\t\t}\r\n\t\t\tif (document.querySelector('.order-clear')) {\r\n\t\t\t\tdocument.querySelector('.order-clear').remove();\r\n\t\t\t}\r\n\t\t} else if (document.querySelector('.order-schild') !== null) {\r\n\t\t\tdocument.querySelector('.order-schild').remove();\r\n\t\t\tcreateClearEl();\r\n\t\t}\r\n\r\n\t\tgenerateOrderPrice();\r\n\t}\r\n\tbtnPlus.addEventListener('click', () => {\r\n\t\tspinnerIncr();\r\n\t\tgenerateSchildItem();\r\n\t})\r\n\tbtnMinus.addEventListener('click', () => {\r\n\t\tspinnerDecr();\r\n\t\tgenerateSchildItem();\r\n\t})\r\n\r\n\t// Heel\r\n\tgenerateListItem(heelInp, 'order-heel', 'Подпятник', 500);\r\n\theelInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(heelInp, 'order-heel', 'Подпятник', 500);\r\n\t})\r\n\r\n\t// Front Row\r\n\tgenerateListItem(frontRowInp, 'order-front-row', 'Комплект ковриков для переднего ряда', 1700);\r\n\tfrontRowInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(frontRowInp, 'order-front-row', 'Комплект ковриков для переднего ряда', 1700);\r\n\t})\r\n\r\n\t// Back Row\r\n\tgenerateListItem(backRowInp, 'order-back-row', 'Комплект ковриков для заднего ряда', 1600);\r\n\tbackRowInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(backRowInp, 'order-back-row', 'Комплект ковриков для заднего ряда', 1600);\r\n\t})\r\n\r\n\t// Trunk\r\n\ttrunkInp.addEventListener('change', () => {\r\n\t\tgenerateListItem(trunkInp, 'order-trunk', 'Коврик для багажника', 1000);\r\n\t})\r\n});\r\n\r\n"]}